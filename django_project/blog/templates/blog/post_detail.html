{% extends 'blog/base.html' %}

{% block content %}

  <div class="content-section">
    <!-- Media object removed with Bootstrap 5, so `d-flex` replicate the same (put username & email to the right of the pic, not below) https://getbootstrap.com/docs/5.3/utilities/flex/#media-object -->
    <div class="d-flex">

      <!-- "object-fit-cover": https://github.com/samyak1409/django/blob/main/HTML%20&%20CSS/1.%20HTML/1.%20Programming%20with%20Mosh/11.%20Images/index.html#L13, https://getbootstrap.com/docs/5.3/utilities/object-fit -->
      <a href="{% url 'user_posts' object.author %}">
        <img class="article-img rounded-circle object-fit-cover border" src="{{ object.author.profile.pic.url }}" alt="">
      </a>

      <div class="w-100">  <!-- width=100% for top-border to show entirely -->

        <!-- Post Meta Data: -->
        <h2 class="article-title">{{ object.title }}</h2>
        <p class="text-secondary mb-1">
          <a class="text-decoration-none" href="{% url 'user_posts' object.author %}">{{ object.author }}</a>
          <small>{{ object.date_posted }}</small>
        </p>

        <!-- Edit & Delete Buttons: -->
        {% if user == object.author %}
          <div class="mt-2 mb-2">
            <a class="btn btn-outline-primary" href="{% url 'update' object.id %}">Edit</a>
            <a class="btn btn-outline-danger" href="{% url 'delete' object.id %}">Delete</a>
          </div>
        {% endif %}

        <!-- Content: -->
        <p class="post-content border-top pt-3 mb-2">{{ object.content }}</p>

      </div>

    </div>
  </div>

{% endblock content %}
